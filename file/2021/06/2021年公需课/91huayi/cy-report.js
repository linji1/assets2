!function(){function t(t){return"[object Function]"===Object.prototype.toString.call(t)}function e(e,n,i){if(o[e])throw new Error("Module "+e+" has been defined already.");t(n)&&(i=n),o[e]={factory:i,inited:!1,exports:null}}function n(e){var n,r,s,p;if(n=o[e],r={},s={exports:{}},!t(n.factory))throw new Error("Module "+e+" has no factory.");if(p=n.factory.call(void 0,i,r,s),void 0!==p)n.exports=p;else if(s.hasOwnProperty("exports")&&"object"==typeof s.exports&&s.exports instanceof Object==!0){var a,c=!1;for(a in s.exports)s.exports.hasOwnProperty(a)&&(c=!0);c===!1?n.exports=r:n.exports=s.exports}else n.exports=s.exports;n.inited=!0}function i(t){var e;if(e=o[t],!e)throw new Error("Module "+t+" is not defined.");return e.inited===!1&&n(t),e.exports}var o={};e("/opt/apps_install/mdevp/mdevp/cache/www/cy-report/cy-report.js",function(t,e,n){window.changyan.api.ready(function(e){var n=e.util.jquery;e.util._,e.util.velocityjs;t("/opt/apps_install/mdevp/mdevp/cache/www/cy-report/cy-report.css");var i=t("/opt/apps_install/mdevp/mdevp/cache/www/cy-report/renderReport.js"),o=function(t){var e='<span node-type="report" class="click-report-gw"><a href="javascript:void(0)"><i class="icon-gw icon-flag"></i><em>举报</em></a></span><i class="gap-gw"></i>';t.find('div[node-type="cmt-item"]').each(function(){var t=n(this).find('span[node-type="reply"]'),i=t.parent().children().hasClass("click-report-gw");i||t.before(e)})};e.event.listen("changyan:cmt-list:list-render",function(t,e){o(n('div[node-type="cmt-list"]'))}),e.event.listen("changyan:cmt-list:hot-list-render",function(t){o(n('div[node-type="hot-list"]'))}),e.event.listen("changyan:login",function(){i.login=!0,i.wait&&setTimeout(function(){i.show()},600)}),e.event.listen("changyan:logout",function(){i.login=!1}),e.event.listen("changyan:submit",function(t){function e(){var i=n('div[node-type="cmt-list"]').find('div[node-type="cmt-item"]');i.eq(0).attr("data-id")===t.comment_id.toString()?o(n('div[node-type="cmt-list"]')):window.setTimeout(e,200)}e()})})}),e("/opt/apps_install/mdevp/mdevp/cache/www/cy-report/cy-report.css",function(t,e,n){var i=decodeURIComponent("%23SOHUCS%20%23SOHU_MAIN%20.cy-report%7Bposition%3Arelative%3B*overflow%3Ahidden%3Bwidth%3A404px%3Bheight%3A178px%3Bbackground%3A%23fff%7D%23SOHUCS%20%23SOHU_MAIN%20.cy-report%20.rpt-title%7Btext-align%3Aleft%3Bpadding-left%3A20px%3Bbackground-color%3A%23fafafa%3Bborder-bottom%3A1px%20solid%20%23cfd6dc%7D%23SOHUCS%20%23SOHU_MAIN%20.cy-report%20.rpt-title%20span%7Bheight%3A44px%3Bline-height%3A44px%3Bfont-weight%3A700%3Bfont-size%3A14px%7D%23SOHUCS%20%23SOHU_MAIN%20.cy-report%20.rpt-close%7Bposition%3Aabsolute%3Btop%3A16px%3Bright%3A16px%3Bbackground-image%3Aurl(%2F%2Fchangyan.sohu.com%2Fmdevp%2Fextensions%2Fcy-report%2F026%2Fimages%2Fclose.png)%3Bbackground-repeat%3Ano-repeat%3Bwidth%3A12px%3Bheight%3A12px%7D%23SOHUCS%20%23SOHU_MAIN%20.cy-report%20.rpt-close%3Ahover%7Bcursor%3Apointer%7D%23SOHUCS%20%23SOHU_MAIN%20.cy-report%20.rpt-reason-item%7Blist-style%3Anone%3Bdisplay%3Ainline-block%3B*display%3Ainline%3B*zoom%3A1%3Bmargin-right%3A80px%3Bwidth%3A80px%3Btext-align%3Aleft%3Bmargin-top%3A14px%7D%23SOHUCS%20%23SOHU_MAIN%20.cy-report%20.rpt-hint%7Bdisplay%3Anone%3Bpadding-top%3A48px%7D%23SOHUCS%20%23SOHU_MAIN%20.cy-report%20.rpt-hint-image%7Bdisplay%3Ainline-block%3Bwidth%3A40px%3Bheight%3A40px%3Bbackground%3Aurl(%2F%2Fchangyan.sohu.com%2Fmdevp%2Fextensions%2Fcy-report%2F026%2Fimages%2Fok.png)%20no-repeat%3Bmargin-bottom%3A24px%3Bmargin-left%3A182px%7D%23SOHUCS%20%23SOHU_MAIN%20.cy-report%20.rpt-hint-text%7Bfont-size%3A15px%3Bfont-weight%3A600%3Btext-align%3Acenter%7D%23SOHUCS%20%23SOHU_MAIN%20.cy-report%20ul%7Bfont-size%3A0%3Bmargin-left%3A80px%3Bline-height%3A1%7D%23SOHUCS%20%23SOHU_MAIN%20.cy-report%20.rpt-reason-item%20.rpt-list-style%7Bdisplay%3Ainline-block%3Bwidth%3A10px%3Bheight%3A10px%3Bborder%3A1px%20solid%20%23a9aeb1%3Bborder-radius%3A50%25%3Bmargin-right%3A10px%7D%23SOHUCS%20%23SOHU_MAIN%20.cy-report%20.rpt-reason-item%20.rpt-text%7Bfont-size%3A14px%7D%23SOHUCS%20%23SOHU_MAIN%20.cy-report%20.rpt-submit%7Bdisplay%3Ainline-block%3Btext-align%3Acenter%3Bmargin-left%3A152px%7D%23SOHUCS%20%23SOHU_MAIN%20.cy-report%20.rpt-submit%20a%7Bdisplay%3Ainline-block%3Bheight%3A28px%3Bwidth%3A100px%3Bborder%3A2px%20solid%20%2350acf9%3Bline-height%3A28px%3Bborder-radius%3A14px%3Bmargin-top%3A18px%3Bfont-size%3A16px%3Bcolor%3A%23000%3Btext-align%3Acenter%7D%23SOHUCS%20%23SOHU_MAIN%20.cy-report%20.rpt-submit%3Ahover%7Bcursor%3Adefault%7D%23SOHUCS%20%23SOHU_MAIN%20.cy-report%20.rpt-submit%20a%3Ahover%7Bcolor%3A%23000%3Btext-decoration%3Anone%7D%23SOHUCS%20%23SOHU_MAIN%20.cy-report%20.rpt-item-selected%20.rpt-list-style%7Bbackground-color%3A%2351adfa%7D"),o=window.document,r=o.createElement("style");r.id="seaJs-css",r.setAttribute("type","text/css");var s=o.getElementById("seaJs-css");s?(s.textContent+=i,o.all&&(s.styleSheet.cssText+=i)):o.all?(r.styleSheet.cssText=i,o.getElementsByTagName("head").item(0).appendChild(r)):(r.innerHTML=i,o.getElementsByTagName("head").item(0).appendChild(r))}),e("/opt/apps_install/mdevp/mdevp/cache/www/cy-report/renderReport.js",function(t,e,n){window.changyan.api.ready(function(e){var i=e.util.jquery,o=(e.util._,e.util.velocityjs),r=e.util.dialog;t("/opt/apps_install/mdevp/mdevp/cache/www/cy-report/cy-report.css");var s="",p=o.render(t("/opt/apps_install/mdevp/mdevp/cache/www/cy-report/cy-report.html.js"),{reasons:t("/opt/apps_install/mdevp/mdevp/cache/www/cy-report/reason.js")}),a={login:null,wait:!1,html:p,_reason:1,_commentId:null,dialog:null,checkLogin:function(){return null!=this.login?!!this.login:void e.getUserInfo(function(t){return function(e){e.error_code?t.login=!1:t.login=!0}}(this))},show:function(t){if(this.wait=!0,t)this._commentId=t;else var t=this._commentId;return null==this.login?void e.getUserInfo(function(t){return function(e){e.error_code?t.login=!1:t.login=!0,t.show()}}(this)):this.login?(this.wait=!1,this._reason=1,r.show(this.html),this._showReasons(),void this.bindEvents()):void e.openLoginDialog("false")},close:function(){r.close()},_showReasons:function(){i('div[node-type="cy-report"]').find(".rpt-page").each(function(){this.className.indexOf("rpt-reason")>=0?(i(this).show(),i(this).find(".rpt-reason-item").eq(0).addClass("rpt-item-selected")):i(this).hide()})},_showHint:function(t){i('div[node-type="cy-report"]').find(".rpt-page").each(function(){this.className.indexOf("rpt-hint")>=0?i(this).show():i(this).hide()})},_changeCommentReportText:function(t){t||(t=this._commentId);var e=i("div[data-id="+t+"]").find('span[node-type="report"] em');e.text("尽快给您反馈，见个人页通知栏"),e.parent().addClass("reported")},send:function(t,e){null==t&&(t=this._reason),null==e&&(e=this._commentId),window.localStorage&&window.localStorage.cy_lt&&(s=window.localStorage.cy_lt),i.ajax({url:"https://changyan.sohu.com/api/2/comment/report",data:{cmt_id:e,reason:t,cy_lt:s},dataType:"jsonp",scriptCharset:"utf-8",success:function(t){}}),this._showHint(1),this._changeCommentReportText(e)},bindEvents:function(t){t||(t=i('div[node-type="cy-report"]')),t.closest(".dialog-wrapper").click(function(e){t.is(e.target)||0!==t.has(e.target).length||this.close()}.bind(this)),t.delegate('li[node-type="report-reason"]',"click",function(t){return function(){t._reason=i(this).data("id"),i(this).parent().children().removeClass("rpt-item-selected"),i(this).addClass("rpt-item-selected")}}(this)),t.delegate('a[node-type="report-send"]',"click",function(){this.send()}.bind(this)),t.delegate(".rpt-close","click",function(){this.close()}.bind(this))}};!function(t){var e=i("#SOHU_MAIN");e.delegate('span[node-type="report"]',"click",function(e){i(e.currentTarget).children("a").hasClass("reported")||(e.stopPropagation(),t.show(i(this).closest('div[node-type~="cmt-item"]').data("id")))})}(a),n.exports=a})}),e("/opt/apps_install/mdevp/mdevp/cache/www/cy-report/cy-report.html.js",function(t,e,n){"use strict";var i;return i=[],i.push('<div node-type="cy-report" class="cy-report">'),i.push('    <div class="rpt-close"></div>'),i.push('    <div class="rpt-reason rpt-page">'),i.push('        <div class="rpt-title"><span>请选择举报类型</span></div>'),i.push("        <ul>"),i.push("            #foreach ($reason in $reasons)"),i.push('            <li class="rpt-reason-item" node-type="report-reason" data-id="$!{reason.id}" data-alias="$!{reason.alias}"><span class="rpt-list-style"></span><span class="rpt-text">$!{reason.name}</span></li>'),i.push("            #end"),i.push("        </ul>"),i.push('        <div class="rpt-submit"><a node-type="report-send">提交</a></div>'),i.push("    </div>"),i.push('    <div class="rpt-hint rpt-page">'),i.push('        <div class="rpt-hint-image"></div>'),i.push('        <div class="rpt-hint-text">您的举报已成功提交，正在忙碌的审核中。</div>'),i.push("    </div>"),i.push("</div>"),i.join("\n")}),e("/opt/apps_install/mdevp/mdevp/cache/www/cy-report/reason.js",function(t,e,n){n.exports=[{id:1,alias:"SEXY",name:"淫秽色情"},{id:2,alias:"ADVERT",name:"广告垃圾"},{id:3,alias:"ILLEGAL",name:"违法信息"},{id:4,alias:"OTHER",name:"其他"}]}),n("/opt/apps_install/mdevp/mdevp/cache/www/cy-report/cy-report.js")}();